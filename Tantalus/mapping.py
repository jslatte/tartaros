####################################################################################################
#
# Copyright (c) by Apollo Video Technology
#
####################################################################################################

####################################################################################################
# Globals ##########################################################################################
####################################################################################################
####################################################################################################

from collections import OrderedDict
from binascii import hexlify

####################################################################################################
# Mapping ##########################################################################################
####################################################################################################
####################################################################################################

### Admin SDK ######################################################################################
####################################################################################################

class AdminSDKMap():

    def __init__(self):

        self.dvr_connection_request = '0a10000000148c8c19060000000100000030313030'
        self.dvr_connection_request_response = '283614008e070000148c8c191d00000001000000303230334791566301000000000000000000000000000000000000000000360000000100aa000000400000000100680000004a0000000107580000000400000006000000020c0000000006000000' \
                                               '%(dvr serial)s' \
                                               '02067600000004000000000000000300000000008000000001078e0000000400000009000000020c00000000120000000820501f23270000b41f00002a0200000000020000000000b40000008003bf00000001000000010107cd00000004000000020000000207db0000000400000001000000030005010000e50000000107f30000000400000002000000020c0000000008000000c0d40100c1d4010004071301000004000000dc00000005003a0100001d010000010529010000020000000700020c00000000070000004e4152553830300a005d01000044010000010550010000020000000300020c0000000003000000312e310b008201000067010000010573010000020000000500020c0000000005000000' \
                                               '%(firmware version)s' \
                                               '0c00a90100008c010000010598010000020000000700020c00000000070000004e525531313038280063020000b30100000101be01000001000000010201c901000001000000010301d401000001000000010401df01000001000000010501ea01000001000000010601f50100000100000001070100020000010000000108010b020000010000000109011602000001000000000a012102000001000000000b012c02000001000000010c013702000001000000000d014202000001000000000e014d02000001000000000f0358020000010000000010030000000001000000002900780200006d02000001030000000001000000003c00a30200008202000001018d0200000100000001020198020000010000000003030000000001000000003d00ef020000ad0200000103b802000001000000080203c302000001000000020303ce02000001000000010403d902000001000000080503e4020000010000000206030000000001000000083e0049030000f9020000010304030000010000000602030f030000010000000a03031a03000001000000020403250300000100000000050330030000010000000106033b030000010000000107070000000004000000df3f46003f005e03000053030000010100000000010000000140007e03000068030000010173030000010000000102030000000001000000044100e003000088030000010193030000010000000002019e03000001000000000301a903000001000000000403b403000001000000010501bf03000001000000000601ca03000001000000000703d50300000100000000080300000000010000000042000b040000ea0300000101f50300000100000000020100040000010000000003010000000001000000004300d004000015040000010320040000010000000202032b04000001000000000303360400000100000002040141040000010000000005014c040000010000000106015704000001000000010700c50400006104000001076f0400000400000013000000020c000000004c000000cb0000000100000002000000801a0600030000002c010000a286010064000000400d0300410d0300430d0300450d0300e1930400e293040064ab9041e3930400c900000065ab9041ca000000080300000000010000000044003d050000da0400000103e504000001000000020201f004000001000000010301fb04000001000000010401060500000100000001050111050000010000000106011c05000001000000010701270500000100000001080132050000010000000009010000000001000000004500520500004705000001030000000001000000024600150600005c05000001000a060000660500000107740500000400000023000000020c000000008c00000001000000020000000300000004000000801a0600811a0600e0930400e1930400e2930400e3930400e4930400e5930400e6930400e7930400400d0300410d0300420d0300430d0300440d03002c010000450d03002d010000480d0300c9000000a0860100ca000000a1860100a2860100cb000000a3860100cc00000064ab904165ab9041640000006500000002030000000001000000004700570600001f0600000100000000002906000001073706000004000000010000000200000000004106000001034c0600000100000004030100000000010000000048008e060000610600000100000000006b0600000107790600000400000001000000020000000000830600000103000000000100000007490056070000980600000101a306000001000000010203ae06000001000000020301b906000001000000010401c406000001000000010501cf06000001000000000601da06000001000000000703e506000001000000000803f00600000100000000090013070000fa0600000107080700000400000001000000020c0000000001000000020a011e07000001000000010b032907000001000000000c033407000001000000010d033f07000001000000000e054b0700000200000000000f030000000001000000054a00810700006007000001036b0700000100000002020176070000010000000003010000000001000000004b00000000008b0700000103000000000100000002'

        self.dvr_request_2 = '283601005000000061646d696e000000000000000000000045334230433434323938464331433134394146424634433839393646423932343237414534314534363439423933344341343935393931423738353242383535'
        self.dvr_request_2_response = '2836030008000000ffffffff00000000'
        self.dvr_drive_info_request = '28363c01000000002836730014000000ffffffffffffffff000000000000000001000000'
        self.dvr_drive_info_request_tag = '28363c01'
        self.dvr_drive_info_response = '28363d01ba0000004791566301000000000000000000000000000000000000000000260000000100000000003000000001073e00000004000000010000000200000000004800000001075600000004000000010000000200000000006000000001076e000000040000000100000002009a00000078000000010584000000020000000c00020c000000000c000000' \
                                       '%(drive model)s' \
                                       '030000000000a40000000105b0000000020000000800020c0000000008000000' \
                                       '%(drive serial)s'

        self.dvr_syslog_event_pckt = '28367400a80f00006400000064000000' + ((('%(time)s' + ('0' * 2) + ('0' * 6) + ('0' * 42) + ('0' * 22)) * 100))
        self.dvr_syslog_event_request = '28367300140000000000000000000000010000000000000000000000'
        self.dvr_syslog_event_request2 = '2836730014000000ffffffffffffffff000000000000000001000000'
        self.dvr_last_request = '283665000100000002'
        self.dvr_last_request_response = '28366500bc00000002020202020202020202020202020202000000000000000000000000000000000202020202020202020202020202020201010100000000000000000000000000020202020202020200000000000000000200000000000000000000000000000000000000010000000000000000000000000000008df12abf0dd653290100000020' \
                                         '%(firmware version)s' \
                                         '000000000000000000000000000000000000020000000000000000000000000000000000000002020202020202020202020202'


### Search SDK #####################################################################################
####################################################################################################

class SearchSDKMap():

    def __init__(self):

        self.dvr_connection_request = '0c0000000c00010001000000'
        self.dvr_connection_request2 = '0c0000000c00000101000000'
        self.dvr_connection_request_response = '83070000284791566301000000000000000000000000000000000000000000230000000100970000002d000000010055000000370000000107450000000400000006000000020c0000000006000000' \
                                                          '%(dvr serial)s' \
                                                          '02066300000004000000000000000300000000006d00000001077b0000000400000009000000020c00000000120000000820501f23270000b41f00002a0200000000020000000000a10000008003ac00000001000000010107ba00000004000000020000000207c800000004000000010000000300f2000000d20000000107e00000000400000002000000020c0000000008000000c0d40100c1d4010004070001000004000000dc0000000500270100000a010000010516010000020000000700020c00000000070000004e4152553830300a004a0100003101000001053d010000020000000300020c0000000003000000312e310b006f01000054010000010560010000020000000500020c0000000005000000' \
                                                          '%(firmware version)s' \
                                                          '0c009601000079010000010585010000020000000700020c00000000070000004e525531313038280050020000a00100000101ab01000001000000010201b601000001000000010301c101000001000000010401cc01000001000000010501d701000001000000010601e201000001000000010701ed01000001000000010801f8010000010000000109010302000001000000000a010e02000001000000000b011902000001000000010c012402000001000000000d012f02000001000000000e013a02000001000000000f0345020000010000000010030000000001000000002900650200005a02000001030000000001000000003c00900200006f02000001017a0200000100000001020185020000010000000003030000000001000000003d00dc0200009a0200000103a502000001000000080203b002000001000000020303bb02000001000000010403c602000001000000080503d1020000010000000206030000000001000000083e0036030000e60200000103f102000001000000060203fc020000010000000a0303070300000100000002040312030000010000000005031d0300000100000001060328030000010000000107070000000004000000df3f46003f004b03000040030000010100000000010000000140006b03000055030000010160030000010000000102030000000001000000044100cd03000075030000010180030000010000000002018b030000010000000003019603000001000000000403a103000001000000010501ac03000001000000000601b703000001000000000703c2030000010000000008030000000001000000004200f8030000d70300000101e203000001000000000201ed030000010000000003010000000001000000004300bd0400000204000001030d04000001000000020203180400000100000000030323040000010000000204012e0400000100000000050139040000010000000106014404000001000000010700b20400004e04000001075c0400000400000013000000020c000000004c000000cb0000000100000002000000801a0600030000002c010000a286010064000000400d0300410d0300430d0300450d0300e1930400e293040064ab9041e3930400c900000065ab9041ca000000080300000000010000000044002a050000c70400000103d204000001000000020201dd04000001000000010301e804000001000000010401f304000001000000010501fe04000001000000010601090500000100000001070114050000010000000108011f0500000100000000090100000000010000000045003f050000340500000103000000000100000002460002060000490500000100f7050000530500000107610500000400000023000000020c000000008c00000001000000020000000300000004000000801a0600811a0600e0930400e1930400e2930400e3930400e4930400e5930400e6930400e7930400400d0300410d0300420d0300430d0300440d03002c010000450d03002d010000480d0300c9000000a0860100ca000000a1860100a2860100cb000000a3860100cc00000064ab904165ab9041640000006500000002030000000001000000004700440600000c0600000100000000001606000001072406000004000000010000000200000000002e0600000103390600000100000004030100000000010000000048007b0600004e06000001000000000058060000010766060000040000000100000002000000000070060000010300000000010000000749004307000085060000010190060000010000000102039b06000001000000020301a606000001000000010401b106000001000000010501bc06000001000000000601c706000001000000000703d206000001000000000803dd0600000100000000090000070000e70600000107f50600000400000001000000020c0000000001000000020a010b07000001000000010b031607000001000000000c032107000001000000010d032c07000001000000000e05380700000200000000000f030000000001000000054a006e0700004d0700000103580700000100000002020163070000010000000003010000000001000000004b0000000000780700000103000000000100000002'

        self.dvr_connection_request_response2 = '940200000c01d859ffffffff5046000001148c8c191d0000000100000030353033000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000'

        self.dvr_request_2 = '590000002a01000000%(username)s000000000000000000000045334230433434323938464331433134394146424634433839393646423932343237414534314534363439423933344341343935393931423738353242383535' \
                             % {'username': hexlify('admin').lower()}
        self.dvr_request_2_response = '0c0000002281000000000000'
        #self.dvr_request_3 = '160000006fffffffff7d9f410b00000000ff000000002e0000005701010101010101010000000000000000ff6483dcf70000000000000000000000000000000000000000'
        self.dvr_request_3a = '2e0000005701010101010101010000000000000000ff6383dcf7000000000000000000000000000000000000000008000000660000000c0000000c00000101000000'
        self.dvr_request_3b = '5300000056ffffffffffffffff00000000000000000000000000000000ffffffff00000000ffffffffffffffff0100000000000000000000000000000000000000000000000000000000000000000000000000'
        self.dvr_request_3b_response = '09000000600d4e0000'
        self.dvr_request_unknown = '08000000660000000c0000000c00000101000000'
        self.dvr_request_3b_response2 = '09000000600d4a000009000000600d46000009000000600d42000009000000600d3e000009000000600d3a000009000000600d36000009000000600d32000009000000600d2e000009000000600d2a000009000000600d26000009000000600d22000009000000600d1e0000'
        #self.dvr_request_3c = '0d0000006b277628ae27762aae'
        self.dvr_request_3c_response = '09000000600d4a000009000000600d46000009000000600d42000009000000600d3e000009000000600d3a000009000000600d36000009000000600d32000009000000600d2e000009000000600d2a000009000000600d26000009000000600d22000009000000600d1e000009000000600d1a000009000000600d16000009000000600d12000009000000600d0e000009000000600d0a000009000000600d0600000900000060cd7d00000900000060cd7900000900000060cd7500000900000060cd7100000900000060cd6d00000900000060cd6900000900000060cd65000009000000604a0e000009000000604a0a000009000000604a0600000500000061'
        self.dvr_num_gps_events_request = '050000006c'
        self.dvr_num_gps_events_request_response = '0a0000006c%(num gps events)s00000001'
        self.dvr_gps_events_request = '050000006d'

