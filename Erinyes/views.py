####################################################################################################
#
# Copyright (c) by Jonathan Slattery
#
####################################################################################################

####################################################################################################
# Import Modules ###################################################################################
####################################################################################################
####################################################################################################

from django.shortcuts import render, RequestContext
from django.views.generic import View
from django.template import Context, loader
from django.http import HttpResponse, Http404
from models import *
from logger import Logger
from exceptionhandler import ExceptionHandler
from Erinyes import Erinyes

####################################################################################################
# Globals ##########################################################################################
####################################################################################################
####################################################################################################

log = Logger()
erinyes = Erinyes(log, ExceptionHandler)

####################################################################################################
# Views ############################################################################################
####################################################################################################
####################################################################################################


def index(request):
    site_statuses = ConnectionStatus.objects.all()
    t = loader.get_template('Erinyes/index.html')
    c = Context({'object_list': site_statuses})
    return HttpResponse(t.render(c))